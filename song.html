<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <title>Play Song</title>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Poppins', sans-serif;
    }
    body {
        background: #1a1a1a;
        color: white;
    }
    /* Header */
    .navbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 50px;
        width: 100%;
        top: 0;
        left: 0;
        background: url('https://i.pinimg.com/736x/61/ea/66/61ea66ea488792a1b6a0afc4349b9154.jpg') no-repeat center center/cover;
        height: 150px;
        color: white;
    }
    .navbar::before {
        content: "";
        position: absolute;
        padding: 20px 50px;
        top: 0;
        left: 0;
        width: 100%;
        height: 160px;
        background: rgba(0, 0, 0, 0.6);
    }
    .navbar * {
        position: relative;
        z-index: 2;
    }
    .logo {
        font-size: 30px;
        font-weight: bold;
        display: flex;
        align-items: center;
    }
    .logo img {
        width: 40px;
        margin-right: 10px;
    }
    .nav-links {
        list-style: none;
        display: flex;
        gap: 20px;
    }
    .nav-links a {
        text-decoration: none;
        color: white;
        font-size: larger;
        font-weight: bold;
    }
    .li {
        align-items: center;
        padding: 10px 15px;
    }
    .li:hover {
        height: fit-content;
        background: #ff3f6c;
        border-radius: 20px;
    }
    .hero-section {
        margin-top: 100px;
    }
    .hero-section h1 {
        font-size: 50px;
        font-weight: 600;
    }
    .hero-section p {
        font-size: 18px;
        max-width: 600px;
        margin: 10px auto;
        opacity: 0.8;
    }
    .btn {
        display: inline-block;
        margin-top: 20px;
        padding: 12px 24px;
        background: #ff3f6c;
        color: white;
        font-size: 16px;
        text-decoration: none;
        border-radius: 30px;
    }
    /* Main Container */
    .container {
        padding: 30px;
    }
    /* Featured Album */
    .featured {
        display: flex;
        align-items: center;
        gap: 20px;
    }
    .album-cover {
        width: 250px;
        height: 250px;
        background: gray;
        border-radius: 15px;
        position: relative;
    }
    .album-cover img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 15px;
    }



    
    .play-btn {
    position: absolute;
    bottom: 10px;
    right: 10px;
    width: 40px;
    height: 40px;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    cursor: pointer;
    transition: transform 0.3s ease; /* Smooth transition for when animation starts/stops */
}

/* Add this class when the song is playing */
.play-btn.playing {
    animation: rotate 2s linear infinite;
}

/* Define the rotation animation */
@keyframes rotate {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}





    .album-info h2 {
        font-size: 24px;
        font-weight: bold;
    }
    .album-info p {
        color: #bbb;
    }
    /* Playlist */
    .playlist {
        margin-top: 30px;
    }
    .playlist-item {
        background: #292929;
        padding: 15px;
        border-radius: 10px;
        text-align: center;
        margin-bottom: 10px;
    }
    .playlist-item h3 {
        font-size: 16px;
    }
    .playlist-item audio {
        width: 100%;
        margin-top: 10px;
    }
    /* Footer */
    .footer {
        position: fixed;
        bottom: 0;
        width: 100%;
        background: #292929;
        padding: 10px 30px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .footer button {
        background: #ff4d4d;
        color: white;
        padding: 8px 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
    
    .custom-audio-player {
    background-color: #2a2a2a;
    padding: 10px;
    border-radius: 10px;
    margin-top: 10px;
}

.song-title {
    font-size: 18px;
    font-weight: bold;
    color: #fff;
    margin-bottom: 10px;
    text-align: center;
}

.audio-controls {
    display: flex;
    align-items: center;
    gap: 10px;
}

.play-pause-btn {
    background-color: #fff;
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #000;
    font-size: 18px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.play-pause-btn:hover {
    background-color: #e0e0e0;
}

.current-time,
.duration {
    font-size: 14px;
    color: #ccc;
    min-width: 40px;
    text-align: center;
}

.progress-bar {
    flex: 1;
    height: 8px;
    background-color: #555;
    border-radius: 5px;
    position: relative;
    cursor: pointer;
}

.progress {
    width: 0;
    height: 100%;
    background-color: #ccc;
    border-radius: 5px;
    position: absolute;
    top: 0;
    left: 0;
}

.control-buttons {
    display: flex;
    gap: 10px;
}

.control-buttons button {
    background: none;
    border: none;
    color: #ccc;
    font-size: 16px;
    cursor: pointer;
    transition: color 0.3s ease;
}

.control-buttons button:hover {
    color: #fff;
}

#songAudio {
    display: none; /* Hidden because we're using custom controls */
}
    
</style>
<body>
    <!-- Header -->
    <nav class="navbar">
        <div class="logo">
            <h1>MEOW</h1>
        </div>
        <ul class="nav-links">
            <div class="li"><li><a onclick="chuyen_trangInfor()" href="#">Infor</a></li></div>
            <div class="li"><li><a onclick="chuyen_trangHome()" href="#">Home</a></li></div>
            <div class="li"><li><a onclick="chuyen_trangNhac()" href="#">Music</a></li></div>
            <div class="li"><li><a onclick="chuyen_trangEvent()" href="#">Events</a></li></div>
            <div class="li"><li><a onclick="chuyen_trangDash()" href="#">Dashboard</a></li></div>
        </ul>
        <div>
            <a href="#" class="btn">Sign up</a>
            <a href="#" class="btn">Login</a>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <!-- Featured Album -->
        <div class="featured">
            <div class="album-cover">
                <img id="albumImage" src="" alt="Album Cover">
                <div class="play-btn" onclick="togglePlay()">
                    <svg width="20px" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <style type="text/css"> .st0{fill:#ffffff;} </style> <g> <path class="st0" d="M481.875,299.344L512,292.219l-4.656-19.641l-24.25,5.734c0-0.328,0.016-0.641,0.016-0.969 c0-38.078-10.531-72.781-28.969-102.359c15.438-53.938-13.438-124.547-13.438-124.547S387.813,73,357.719,100.297 C327.109,91.063,292.578,88.094,256,88.094c-36.766,0-71.484,2.563-102.203,11.781c-30.156-27.109-82.5-49.438-82.5-49.438 S42.406,121.063,57.859,175c-18.422,29.578-28.984,64.281-28.984,102.344c0,0.328,0.031,0.641,0.031,0.969l-24.25-5.734L0,292.219 l30.109,7.125c2.672,23.578,9.672,44.75,20.234,63.422L12.875,377.75l7.484,18.75l41.203-16.484 c39.797,53.141,111.969,81.547,194.438,81.547c82.453,0,154.641-28.406,194.438-81.547l41.203,16.484l7.484-18.75l-37.469-14.984 C472.219,344.094,479.219,322.922,481.875,299.344z"></path> </g> </g></svg>
                </div>
            </div>
            <div class="album-info">
                <div id="songName"><h2>-----</h2></div>
                <div id="author"><p>Created by ----</p></div>
            </div>
        </div>

        <!-- Playlist -->
       <!-- Playlist -->
<div class="playlist">
    <div class="playlist-item">
        <div id="song"><h3></h3></div>
        <div id="author"><p>----</p></div>
        <div class="custom-audio-player">
            <div class="song-title" id="songTitle">----</div>
            <div class="audio-controls">
                <button class="play-pause-btn">‚ñ∂</button>
                <span class="current-time">0:00</span>
                <div class="progress-bar">
                    <div class="progress"></div>
                </div>
                <span class="duration">0:00</span>
                <div class="control-buttons">
                    <button class="rewind-btn">‚è™</button>
                    <button class="forward-btn">‚è©</button>
                    <button class="volume-btn">üîä</button>
                    <button class="more-btn">‚ãÆ</button>
                </div>
            </div>
            <audio id="songAudio"></audio>
        </div>
    </div>
</div>

    <!-- Footer Player -->
    <div class="footer">
        <p id="nowPlaying">Now Playing: ---</p>
        <button id="playButton">Play</button>
    </div>

    <script>
        function chuyen_trangHome() {
    window.location.assign("index.html");
}
function chuyen_trangInfor() {
    window.location.assign("infor.html");
}
function chuyen_trangDash() {
    window.location.assign("dashboard.html"); 
}
function chuyen_trangEvent() {
    window.location.assign("event.html"); 
}
function chuyen_trangDangki() {
    window.location.assign("signup.html");
}
function chuyen_trangDangnhap() {
    window.location.assign("login.html");
}

// Get URL parameters
const urlParams = new URLSearchParams(window.location.search);
const title = decodeURIComponent(urlParams.get('title') || 'Unknown Title');
const artist = decodeURIComponent(urlParams.get('artist') || 'Unknown Artist');
const image = decodeURIComponent(urlParams.get('image') || 'https://via.placeholder.com/250');
const audioUrl = decodeURIComponent(urlParams.get('audio') || '');

// Update the page with song details
document.getElementById('albumImage').src = image;
document.getElementById('songName').innerHTML = `<h2>${title}</h2>`;
document.getElementById('author').innerHTML = `<p>Created by ${artist}</p>`;
document.getElementById('song').innerHTML = `<h3>${title}</h3>`;
document.getElementById('songTitle').textContent = title; // Update custom player song title
document.getElementById('nowPlaying').textContent = `Now Playing: ${title} by ${artist}`;

// Set up audio element and custom player elements
const audioElement = document.getElementById('songAudio');
const playPauseBtn = document.querySelector('.play-pause-btn');
const progressBar = document.querySelector('.progress');
const currentTime = document.querySelector('.current-time');
const duration = document.querySelector('.duration');
const rewindBtn = document.querySelector('.rewind-btn');
const forwardBtn = document.querySelector('.forward-btn');
let isPlaying = false;

// Set audio source
if (audioUrl) {
    audioElement.src = audioUrl;
} else {
    document.querySelector('.custom-audio-player').style.display = 'none'; // Hide player if no URL
}

// Update duration when audio metadata is loaded
audioElement.addEventListener('loadedmetadata', () => {
    duration.textContent = formatTime(audioElement.duration);
});

// Update progress bar and current time as audio plays
audioElement.addEventListener('timeupdate', () => {
    const progressPercent = (audioElement.currentTime / audioElement.duration) * 100;
    progressBar.style.width = `${progressPercent}%`;
    currentTime.textContent = formatTime(audioElement.currentTime);
});

// Play/Pause functionality for the custom play button
playPauseBtn.addEventListener('click', () => {
    if (!audioUrl) {
        alert('No audio source provided for this song!');
        return;
    }
    if (isPlaying) {
        audioElement.pause();
        playPauseBtn.textContent = '‚ñ∂'; // Play symbol
        isPlaying = false;
    } else {
        audioElement.play();
        playPauseBtn.textContent = '‚è∏'; // Pause symbol
        isPlaying = true;
    }
    // Sync with the footer play button and album cover
    const playButton = document.getElementById('playButton');
    playButton.textContent = isPlaying ? 'Pause' : 'Play';
    const playBtn = document.querySelector('.play-btn');
    playBtn.classList.toggle('playing', isPlaying);
});

// Rewind and Forward functionality
rewindBtn.addEventListener('click', () => {
    audioElement.currentTime = Math.max(0, audioElement.currentTime - 10); // Rewind 10 seconds
});

forwardBtn.addEventListener('click', () => {
    audioElement.currentTime = Math.min(audioElement.duration, audioElement.currentTime + 10); // Forward 10 seconds
});

// Footer play button functionality
const playButton = document.getElementById('playButton');
playButton.addEventListener('click', () => {
    if (!audioUrl) {
        alert('No audio source provided for this song!');
        return;
    }
    if (isPlaying) {
        audioElement.pause();
        playButton.textContent = 'Play';
        playPauseBtn.textContent = '‚ñ∂'; // Sync with custom player
        isPlaying = false;
    } else {
        audioElement.play();
        playButton.textContent = 'Pause';
        playPauseBtn.textContent = '‚è∏'; // Sync with custom player
        isPlaying = true;
    }
    // Sync with the album cover play button
    const playBtn = document.querySelector('.play-btn');
    playBtn.classList.toggle('playing', isPlaying);
});

// Play button on album cover
document.querySelector('.play-btn').addEventListener('click', () => {
    if (!audioUrl) {
        alert('No audio source provided for this song!');
        return;
    }
    if (isPlaying) {
        audioElement.pause();
        playPauseBtn.textContent = '‚ñ∂'; // Sync with custom player
        isPlaying = false;
    } else {
        audioElement.play();
        playPauseBtn.textContent = '‚è∏'; // Sync with custom player
        isPlaying = true;
    }
    // Sync with the footer play button
    playButton.textContent = isPlaying ? 'Pause' : 'Play';
    // Call togglePlay to update the album cover button state
    togglePlay();
});

// Toggle play function for the album cover button
function togglePlay() {
    const playButton = document.querySelector('.play-btn');
    if (!audioUrl) {
        alert('No audio source provided for this song!');
        return;
    }
    if (isPlaying) {
        audioElement.pause();
        playPauseBtn.textContent = '‚ñ∂'; // Sync with custom player
        playButton.classList.remove('playing');
        isPlaying = false;
    } else {
        audioElement.play();
        playPauseBtn.textContent = '‚è∏'; // Sync with custom player
        playButton.classList.add('playing');
        isPlaying = true;
    }
    // Sync with the footer play button
    const footerPlayButton = document.getElementById('playButton');
    footerPlayButton.textContent = isPlaying ? 'Pause' : 'Play';
}

// Helper function to format time
function formatTime(seconds) {
    const minutes = Math.floor(seconds / 60);
    const secs = Math.floor(seconds % 60);
    return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
}

    </script>
</body>
</html>